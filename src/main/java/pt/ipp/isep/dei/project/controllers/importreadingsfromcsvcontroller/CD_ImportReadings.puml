@startuml
skinparam linetype ortho

skinparam class {
	BackgroundColor PaleTurquoise
	ArrowColor Black
	BorderColor Black
	FontStyle Bold
}

hide circle

ImportReadings "1" --> "1" ImportReadingsController
ImportReadingsController "1" -right-> "1" GeographicalAreaList
ImportReadingsController "1" --> "1" ReadingMapper :uses
ImportReadingsController "1" -> "1" SensorList
ImportReadingsController "1" -> "1" Sensor
ImportReadingsController "1" -> "1" "<<ProjectFileReader>>"
ReadingMapper "1" -> "1" ReadingDTO : creates
GeographicalAreaList "1" -> "*" SensorList
SensorList "1" -> "0*" Sensor
XMLReader ---* "<<ProjectFileReader>>" : implements
CSVReader ---* "<<ProjectFileReader>>" : implements
JSONReader ---* "<<ProjectFileReader>>" : implements
XMLReader -> ReadingMapper : uses
CSVReader -> ReadingMapper : uses
JSONReader -> ReadingMapper : uses

Class ImportReadings {
-controller: ImportReadingsController
+run()
}

Class ImportReadingsController {
-geographicalAreaList: GeographicalAreaList
-allSensorInTheGeoAreas: SensorList
-sensor: Sensor
-readingDTOList : List<Object>
+createReader()
+readFile()
+importReadings()
+checkIfSensorExistsById()
+isDateTimeBeforeSensorStartingDate()
}


Class XMLReader {
-readerName : String
+readFile()
+getTypeName()w
-readReadingsFile()
-getReadingDTO()
-getTagValue()
-getTag()
}

Class ReadingMapper {
+mapToEntity()
+mapToDTO()
}
Class CSVReader {
-readerName : String
+readFile()
+getTypeName()
-parseLine()
}

Class JSONReader {
-readerName : String
+readFile()
+getTypeName()
-parseReadings()
}

Class GeographicalAreaList {
-geoAreaList: GeographicalAreaList
+getAllSensors()
}

Class SensorList {
-listOfSensors: List<Sensor>
+checkIfSensorExistsById()
+getSensorById()
}

Class Sensor {
-id: String;
-startingDate LocalDateTime
-listOfReadings: List<Reading>
+addReading()
}

Class ReadingDTO {
-id: String
-value: double
-dateTime: LocalDateTime
-unit: String
+getValue()
+setValue()
+getDateTime()
+setDateTime()
+getId()
+setId()
+getUnit()
+setUnit()
}


Interface "<<ProjectFileReader>>" {
+getTypeName()
+readFile()
}
@enduml